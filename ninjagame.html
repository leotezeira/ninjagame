<!DOCTYPE html>

<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¥ Ninja RPG - Estilo Naruto</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="game-container">
        <h1>ğŸ¥ NINJA RPG ğŸ¥</h1>

    <!-- Pantalla de Inicio con Load -->
    <div id="start-screen" class="screen active">
        <div class="story-text">
            <h2 style="color: #ff8c00; text-align: center; margin-bottom: 15px;">Bienvenido a la Aldea Oculta</h2>
            <p>En un mundo donde el poder del chakra fluye a travÃ©s de todo ser vivo, los ninjas son los guerreros mÃ¡s poderosos.</p>
            <p>NacerÃ¡s en uno de los clanes mÃ¡s prestigiosos de Konoha. Tu destino estÃ¡ por comenzar...</p>
            <p style="margin-top: 15px; color: #ffd700;">âš¡ Los Kekkei Genkai son extremadamente raros...</p>
        </div>
        <div style="text-align: center;">
            <button class="btn" onclick="game.showNameScreen()">Nueva Partida</button>
            <button class="btn btn-secondary" onclick="game.loadGame()" id="load-btn">Cargar Partida</button>
        </div>
    </div>

    <!-- Nombre del Ninja -->
    <div id="name-screen" class="screen">
        <div class="story-text">
            <h2 style="color: #ff8c00; text-align: center; margin-bottom: 15px;">Crea tu Ninja</h2>
            <p>Antes de elegir tu clan, escribe el nombre que serÃ¡ recordado en el mundo ninja.</p>
        </div>
        <div class="player-info" style="max-width: 560px; margin: 0 auto;">
            <label for="player-name-input" style="display:block; margin-bottom: 8px; color:#ffd700; font-weight: bold;">Nombre (mÃ¡x. 20)</label>
            <input id="player-name-input" class="text-input" type="text" maxlength="20" placeholder="Ej: Kenji" autocomplete="off" />
            <div id="name-error" style="margin-top:10px; color:#ff6b00; display:none;"></div>
            <div style="text-align:center; margin-top: 12px;">
                <button class="btn" onclick="game.validateAndSaveName()">Continuar</button>
                <button class="btn btn-secondary" onclick="game.showScreen('start-screen')">Volver</button>
            </div>
        </div>
    </div>

    <!-- SelecciÃ³n de Clan -->
    <div id="clan-screen" class="screen">
        <h2 style="text-align: center; color: #ff8c00; margin-bottom: 20px;">Elige Tu Clan</h2>
        <div class="clan-select" id="clan-select"></div>
    </div>

    <!-- Sorteo de Kekkei Genkai -->
    <div id="kekkei-screen" class="screen">
        <div class="kekkei-genkai-notification" id="kekkei-result">
            <h2>ğŸŒŸ Realizando Sorteo de Kekkei Genkai... ğŸŒŸ</h2>
        </div>
        <div style="text-align: center;">
            <button class="btn" onclick="game.finishCharacterCreation()">Continuar</button>
        </div>
    </div>

    <!-- Pantalla Principal (Aldea) -->
    <div id="village-screen" class="screen">
        <div class="player-info">
            <h2 id="player-name-village" style="color: #ff8c00;">Ninja</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div>
                    <div class="health-bar">
                        <div class="health-fill" id="village-health-bar">HP: 100/100</div>
                    </div>
                </div>
                <div>
                    <div class="chakra-bar">
                        <div class="chakra-fill" id="village-chakra-bar">Chakra: 100/100</div>
                    </div>
                </div>
            </div>
            <div class="info-grid">
                <div class="info-item">ğŸ¥· Rango: <span id="player-rank">Genin</span></div>
                <div class="info-item">â­ Nivel: <span id="player-level-village">1</span></div>
                <div class="info-item">ğŸ’° Ryo: <span id="player-ryo">100</span></div>
                <div class="info-item">âœ¨ EXP: <span id="player-exp-village">0/100</span></div>
            </div>
            <div id="kekkei-display" style="margin-top: 10px;"></div>
            <div id="element-display" style="margin-top: 5px; text-align: center;"></div>
        </div>

        <div id="exam-widget"></div>

        <div style="text-align: center; margin-bottom: 15px;">
            <button class="btn btn-small btn-secondary" onclick="game.saveGame()">ğŸ’¾ Guardar Partida</button>
            <button class="btn btn-small" onclick="game.restInVillage()">ğŸ˜´ Descansar (Recuperar todo)</button>
        </div>

        <div class="tabs">
            <button class="tab-btn active" onclick="game.showTab('missions')">ğŸ“œ Misiones</button>
            <button class="tab-btn" onclick="game.showTab('npcs')">ğŸ§‘â€ğŸ¤â€ğŸ§‘ NPCs</button>
            <button class="tab-btn" onclick="game.showTab('academy')">ğŸ“ Academia</button>
            <button class="tab-btn" onclick="game.showTab('shop')">ğŸª Tienda</button>
            <button class="tab-btn" onclick="game.showTab('training')">ğŸ’ª Entrenamiento</button>
            <button class="tab-btn" onclick="game.showTab('stats')">ğŸ“Š Stats</button>
        </div>

        <div id="missions-tab" class="tab-content active">
            <h3 style="color: #ff8c00;">Misiones Disponibles</h3>
            <div class="mission-list" id="mission-list"></div>
        </div>

        <div id="npcs-tab" class="tab-content">
            <h3 style="color: #ff8c00;">ğŸ§‘â€ğŸ¤â€ğŸ§‘ NPCs</h3>
            <p style="margin: 10px 0;">Conoce personajes, mejora relaciones, recibe misiones y entrenamientos Ãºnicos.</p>
            <div id="npc-list" class="npc-list"></div>

            <div id="npc-modal" class="npc-modal" style="display:none;"></div>
        </div>

        <div id="academy-tab" class="tab-content">
            <h3 style="color: #ff8c00;">ğŸ“ Academia Ninja</h3>
            <p style="margin: 10px 0;">Aprende nuevos jutsus pagando con Ryo. Los jutsus mÃ¡s poderosos requieren un rango ninja mÃ¡s alto.</p>
            
            <div class="tabs" style="margin-top: 20px;">
                <button class="tab-btn active" onclick="game.showJutsuRank('genin')">Genin</button>
                <button class="tab-btn" onclick="game.showJutsuRank('chunin')">Chunin</button>
                <button class="tab-btn" onclick="game.showJutsuRank('jonin')">Jonin</button>
                <button class="tab-btn" onclick="game.showJutsuRank('master')">Maestros</button>
            </div>
            
            <div class="jutsu-academy-list" id="academy-jutsu-list"></div>
        </div>

        <div id="shop-tab" class="tab-content">
            <h3 style="color: #ff8c00;">Tienda de la Aldea</h3>
            <div class="shop-grid" id="shop-list"></div>
        </div>

        <div id="training-tab" class="tab-content">
            <h3 style="color: #ff8c00;">Centro de Entrenamiento</h3>
            <div class="shop-grid" id="training-list"></div>
        </div>

        <div id="stats-tab" class="tab-content">
            <h3 style="color: #ff8c00;">Tus EstadÃ­sticas</h3>
            <div id="stats-display"></div>
        </div>
    </div>

    <!-- Combate -->
    <div id="combat-screen" class="screen">
        <div class="player-info">
            <h3 id="combat-player-name">Tu Ninja</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div>
                    <div class="health-bar">
                        <div class="health-fill" id="combat-player-health-bar">HP: 100/100</div>
                    </div>
                </div>
                <div>
                    <div class="chakra-bar">
                        <div class="chakra-fill" id="combat-player-chakra-bar">Chakra: 100/100</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="combat-area">
            <div class="enemy-info">
                <h3 id="enemy-name">Enemigo</h3>
                <div class="health-bar">
                    <div class="health-fill" id="enemy-health-bar" style="background: linear-gradient(90deg, #8b0000 0%, #660000 100%);">HP: 50/50</div>
                </div>
                <p id="enemy-stats"></p>
            </div>

            <div class="combat-log" id="combat-log"></div>

            <div style="text-align: center; margin-top: 15px;">
                <button class="btn btn-small" onclick="game.basicAttack()" id="attack-btn">âš”ï¸ Taijutsu</button>
                <button class="btn btn-small" onclick="game.toggleJutsuMenu()" id="jutsu-menu-btn">ğŸŒ€ Ninjutsu</button>
                <button class="btn btn-small" onclick="game.useGenjutsu()" id="genjutsu-btn">ğŸ‘ï¸ Genjutsu</button>
                <button class="btn btn-small" onclick="game.defend()" id="defend-btn">ğŸ›¡ï¸ Defender</button>
                <button class="btn btn-small" onclick="game.useKawarimi()" id="kawarimi-btn">ğŸ’¨ Kawarimi</button>
                <button class="btn btn-small" onclick="game.showInventoryInCombat()" id="item-btn">ğŸ’ Items</button>
            </div>

            <div id="jutsu-selection" style="display: none; margin-top: 15px;">
                <h4 style="color: #3498db;">Selecciona un Jutsu:</h4>
                <div class="jutsu-grid" id="jutsu-list"></div>
            </div>

            <div id="combat-inventory" style="display: none; margin-top: 15px;">
                <h4 style="color: #2ecc71;">Items Disponibles:</h4>
                <div id="combat-items-list"></div>
            </div>
        </div>
    </div>

    <!-- Victoria de MisiÃ³n -->
    <div id="mission-victory-screen" class="screen">
        <div class="victory">
            <h2>ğŸ‰ Â¡MISIÃ“N COMPLETADA! ğŸ‰</h2>
            <p id="mission-victory-text"></p>
            <div id="kekkei-exp-gain" style="margin-top: 15px;"></div>
            <button class="btn" onclick="game.returnToVillage()">Regresar a la Aldea</button>
        </div>
    </div>

    <!-- Derrota -->
    <div id="defeat-screen" class="screen">
        <div class="defeat">
            <h2>ğŸ’€ HAS CAÃDO EN BATALLA ğŸ’€</h2>
            <p>El camino del ninja es difÃ­cil...</p>
            <p style="margin-top: 15px;">Tu personaje ha muerto. Debes crear uno nuevo.</p>
            <button class="btn" onclick="game.deleteCharacterAndRestart()">Crear Nuevo Personaje</button>
        </div>
    </div>

    <!-- ExÃ¡menes -->
    <div id="exam-screen" class="screen">
        <div class="player-info" style="border-color: rgba(255, 215, 0, 0.55);">
            <h2 style="color:#ffd700;">ğŸ¯ Examen Ninja</h2>
            <div id="exam-content"></div>
            <div style="text-align:center; margin-top: 14px;">
                <button class="btn btn-secondary" onclick="game.abandonExam()">Abandonar</button>
            </div>
        </div>
    </div>
</div>

<script type="module" src="js/main.js"></script>
</body>
</html>